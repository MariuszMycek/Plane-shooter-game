{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/constants.js","webpack:///./src/scripts/firebase.js","webpack:///./src/scripts/components/textComponent.js","webpack:///./src/scripts/config.js","webpack:///./src/scripts/components/topScores.js","webpack:///./src/scripts/helpers.js","webpack:///./src/scripts/renders.js","webpack:///./src/scripts/components/enemyPlane.js","webpack:///./src/scripts/components/bullet.js","webpack:///./src/scripts/components/heroPlane.js","webpack:///./src/scripts/components/tilte.js","webpack:///./src/scripts/components/gameOver.js","webpack:///./src/scripts/components/endGameInfo.js","webpack:///./src/scripts/components/menu.js","webpack:///./src/scripts/components/background.js","webpack:///./src/scripts/components/textInput.js","webpack:///./src/scripts/components/resultSaving.js","webpack:///./src/scripts/objectGenerators.js","webpack:///./src/scripts/index.js","webpack:///./public/assets/images/enemyPlane.png","webpack:///./public/assets/images/heroPlane.png","webpack:///./public/assets/images/gameBG.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","PHASES","start","stop","menu","topScores","running","resultSaving","end","firebase","initializeApp","apiKey","authDomain","projectId","docRef","firestore","collection","doc","getTopScores","then","exists","records","sort","a","b","score","parameters","console","log","TextComponent","posX","posY","text","align","color","shadowColor","this","size","font","counter","fontWeight","ctx","myGameArea","context","fillStyle","shadowBlur","textAlign","fillText","strokeStyle","lineWidth","strokeText","textWidth","measureText","width","canvas","config","canvasWidth","canvasHeight","viewConfig","baseLeftPosX","baseRightPosX","baseTopPosY","title","view","forEach","item","index","changePhase","phase","gamePhase","phaseCounter","renderTitle","components","tilte","update","newPos","EnemyPlane","image","Image","src","enemyPlaneSrc","height","speedX","directionFactor","Math","floor","random","speedY","enemyPlanes","drawImage","playerHealth","Bullet","startAngle","endAngle","PI","beginPath","arc","stroke","fill","bullets","plane","ax","ay","aw","ah","bx","by","bw","bh","filter","bullet","playerPoints","HeroPlane","heroPlaneSrc","max","min","bulletsDistance","Tilte","count","moveRigth","enemyGenerationCounter","gameOver","endGameInfo","heroPlane","resetCounter","GameOver","EndGameInfo","MenuItem","animationCounter","counterDirection","fontSize","activeMenuItemIndex","baseCenterPosX","menuElementsNames","Background","bgImage","backgroundConfig","basePosY","TextInput","inputText","textInfo","initializeObjects","scoreText","livesText","background","map","elementName","leftPressed","rightPressed","spacePressed","document","createElement","getContext","querySelector","appendChild","body","childNodes","interval","setInterval","updateGameArea","clear","clearRect","bgElement","shootTheBullet","checkCollision","enemyPlane","checkTheGoal","updateText","setText","addEventListener","event","preventDefault","keyCode","str","String","fromCharCode","record","newRecords","pop","set","catch","error","saveTopScores","onload"],"mappings":"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","file":"js/app.1cbc1009.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([109,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export const PHASES = {\r\n  start: 'start',\r\n  stop: 'stop',\r\n  menu: 'menu',\r\n  topScores: 'topScores',\r\n  running: 'running',\r\n  resultSaving: 'resultSaving',\r\n  end: 'end',\r\n};\r\n","import { parameters } from './index';\n\n// Initialize Cloud Firestore through Firebase\nfirebase.initializeApp({\n  apiKey: 'AIzaSyAU7Wvv_BelQs1EKSRMdvAOGGumsQN_oVE',\n  authDomain: 'alien-shooter-52fa2.firebaseapp.com',\n  projectId: 'alien-shooter-52fa2',\n});\n\nconst db = firebase.firestore();\n\nconst docRef = db.collection('records').doc('cWJA0odTT8s6LXb6GXPV');\n\nexport function saveTopScores(record) {\n  const records = [...parameters.topScores];\n  const newRecords = [...records, record].sort((a, b) => b.score - a.score);\n  if (newRecords.length > 10) {\n    newRecords.pop();\n  }\n\n  return docRef\n    .set({\n      records: newRecords,\n    })\n    .then(function() {\n      console.log('Document written');\n    })\n    .catch(function(error) {\n      console.error('Error adding document: ', error);\n    });\n}\n\nexport function getTopScores() {\n  return docRef.get().then(doc => {\n    if (doc.exists) {\n      const data = doc.data().records;\n      data.sort((a, b) => b.score - a.score);\n\n      parameters.topScores = data;\n    } else {\n      // doc.data() will be undefined in this case\n      console.log('No such document!');\n    }\n  });\n}\n","import { myGameArea } from '../index';\r\n\r\nexport default class TextComponent {\r\n  constructor(posX, posY, text, align, color, shadowColor) {\r\n    this.size = '30px';\r\n    this.font = 'Consolas';\r\n    this.posX = posX;\r\n    this.posY = posY;\r\n    this.color = color || 'white';\r\n    this.counter = 0;\r\n    this.text = text;\r\n    this.align = align || 'left';\r\n    this.shadowColor = shadowColor || 'black';\r\n    this.fontWeight = 'normal';\r\n  }\r\n\r\n  update() {\r\n    const ctx = myGameArea.context;\r\n\r\n    ctx.font = this.fontWeight + ' ' + this.size + ' ' + this.font;\r\n\r\n    ctx.fillStyle = this.color;\r\n\r\n    ctx.shadowBlur = 5;\r\n    ctx.shadowColor = this.shadowColor;\r\n    ctx.textAlign = this.align;\r\n\r\n    ctx.fillText(this.text, this.posX, this.posY);\r\n    if (this.strokeStyle) {\r\n      ctx.strokeStyle = this.strokeStyle;\r\n      ctx.lineWidth = this.lineWidth;\r\n      ctx.strokeText(this.text, this.posX, this.posY);\r\n      ctx.strokeStyle = 'none';\r\n      ctx.lineWidth = 0;\r\n    }\r\n    ctx.shadowBlur = 0;\r\n    ctx.shadowColor = 'none';\r\n  }\r\n\r\n  setText(text) {\r\n    this.text = text;\r\n  }\r\n\r\n  count() {\r\n    this.counter++;\r\n  }\r\n\r\n  resetCounter() {\r\n    this.counter = 0;\r\n  }\r\n\r\n  centerText() {\r\n    const ctx = myGameArea.context;\r\n    const textWidth = ctx.measureText(this.text).width;\r\n    this.posX = (myGameArea.canvas.width - textWidth) / 2;\r\n  }\r\n}\r\n","export const config = {\n  canvasWidth: 618,\n  canvasHeight: 620,\n};\n","import TextComponent from './textComponent';\nimport { parameters } from '../index';\nimport { config } from '../config';\n\nconst viewConfig = {\n  baseLeftPosX: 120,\n  baseRightPosX: config.canvasWidth - 120,\n  baseTopPosY: 150,\n};\n\nexport function topScores() {\n  const { baseLeftPosX, baseRightPosX, baseTopPosY } = viewConfig;\n\n  const title = new TextComponent(baseLeftPosX, baseTopPosY, ' TOP SCORES:');\n\n  const view = [title];\n\n  parameters.topScores.forEach((item, index) => {\n    if (index === 9) {\n      view.push(\n        new TextComponent(\n          baseLeftPosX,\n          title.posY + (index + 1) * 30,\n          `${index + 1}. ${item.name}`\n        )\n      );\n    } else if (index < 9) {\n      view.push(\n        new TextComponent(\n          baseLeftPosX,\n          title.posY + (index + 1) * 30,\n          ` ${index + 1}. ${item.name}`\n        )\n      );\n    }\n\n    view.push(\n      new TextComponent(\n        baseRightPosX,\n        title.posY + (index + 1) * 30,\n        `${item.score}`,\n        'right'\n      )\n    );\n  });\n\n  return view;\n}\n","import { parameters, components } from './index';\r\nimport { PHASES } from './constants';\r\n\r\nimport { saveTopScores, getTopScores } from './firebase';\r\nimport { topScores } from './components/topScores';\r\nexport function AABBIntersect(ax, ay, aw, ah, bx, by, bw, bh) {\r\n  return ax < bx + bw && bx < ax + aw && ay < by + bh && by < ay + ah;\r\n}\r\n\r\nexport function resetParams() {\r\n  components.enemyPlanes = [];\r\n  components.bullets = [];\r\n  parameters.playerHealth = 6;\r\n  parameters.playerPoints = 0;\r\n  parameters.bulletsDistance = 0;\r\n  parameters.enemyGenerationCounter = 0;\r\n  components.gameOver.posY = -50;\r\n  components.endGameInfo.posY = 650;\r\n  components.heroPlane.posX = 285;\r\n  components.heroPlane.posY = 650;\r\n}\r\n\r\nexport function addPlayerPoint(value) {\r\n  parameters.playerPoints += value;\r\n}\r\n\r\nexport function subtractThePlayerHealth() {\r\n  parameters.playerHealth--;\r\n}\r\n\r\nexport function changePhase(phase) {\r\n  parameters.gamePhase = phase;\r\n  parameters.phaseCounter = 0;\r\n}\r\n\r\n// steering\r\nexport function keyUpHandler(event) {\r\n  event.preventDefault();\r\n  let key = event.keyCode;\r\n\r\n  // hero plane movment\r\n  if (key === 37) {\r\n    parameters.leftPressed = false;\r\n    components.heroPlane.speedX = 0;\r\n    if (parameters.rightPressed) {\r\n      components.heroPlane.speedX = 2;\r\n    }\r\n  } else if (key === 39) {\r\n    parameters.rightPressed = false;\r\n    components.heroPlane.speedX = 0;\r\n    if (parameters.leftPressed) {\r\n      components.heroPlane.speedX = -2;\r\n    }\r\n  }\r\n  // hero plane shots\r\n  else if (key === 32) {\r\n    parameters.spacePressed = false;\r\n  }\r\n}\r\n\r\nexport function keyDownHandler(event) {\r\n  event.preventDefault();\r\n  let key = event.keyCode;\r\n\r\n  switch (parameters.gamePhase) {\r\n    case PHASES.menu: {\r\n      // up\r\n      if (key === 38) {\r\n        if (parameters.activeMenuItemIndex === 0) {\r\n          parameters.activeMenuItemIndex = components.menu.length - 1;\r\n        } else {\r\n          parameters.activeMenuItemIndex--;\r\n        }\r\n        components.menu[parameters.activeMenuItemIndex].animationCounter = 0;\r\n      } else if (key === 40) {\r\n        if (parameters.activeMenuItemIndex === components.menu.length - 1) {\r\n          parameters.activeMenuItemIndex = 0;\r\n        } else {\r\n          parameters.activeMenuItemIndex++;\r\n        }\r\n        components.menu[parameters.activeMenuItemIndex].animationCounter = 0;\r\n      } else if (key === 32 || key === 13) {\r\n        switch (parameters.activeMenuItemIndex) {\r\n          case 0: {\r\n            changePhase(PHASES.start);\r\n            break;\r\n          }\r\n\r\n          case 1: {\r\n            changePhase(PHASES.topScores);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    case PHASES.running: {\r\n      // hero plane movment\r\n      if (key === 37) {\r\n        parameters.leftPressed = true;\r\n        components.heroPlane.speedX = -2;\r\n      } else if (key == 39) {\r\n        parameters.rightPressed = true;\r\n        components.heroPlane.speedX = 2;\r\n      }\r\n      // hero plane shots\r\n      else if (key === 32) {\r\n        parameters.spacePressed = true;\r\n      }\r\n      break;\r\n    }\r\n\r\n    case PHASES.end: {\r\n      if (key === 32) {\r\n        changePhase(PHASES.menu);\r\n      }\r\n      break;\r\n    }\r\n\r\n    case PHASES.topScores: {\r\n      if (key === 32 || key === 13) {\r\n        changePhase(PHASES.menu);\r\n      }\r\n      break;\r\n    }\r\n\r\n    case PHASES.resultSaving: {\r\n      if (key === 8) {\r\n        const str = parameters.inputText;\r\n        parameters.inputText = str.slice(0, str.length - 1);\r\n      } else if (\r\n        parameters.inputText.length < 13 &&\r\n        ((key >= 48 && key <= 57) || (key >= 65 && key <= 90) || key === 32)\r\n      ) {\r\n        parameters.inputText += String.fromCharCode(key);\r\n      } else if (key === 13) {\r\n        const record = {\r\n          name: parameters.inputText,\r\n          score: parameters.playerPoints,\r\n        };\r\n        saveTopScores(record)\r\n          .then(getTopScores())\r\n          .then(() => {\r\n            components.topScores = [...topScores()];\r\n            changePhase(PHASES.topScores);\r\n          });\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { components, parameters } from './index';\r\n\r\nexport function renderBackground() {\r\n  components.background.forEach(bgElement => {\r\n    bgElement.newPos();\r\n    bgElement.update();\r\n  });\r\n}\r\n\r\nexport function renderTitle() {\r\n  components.tilte.update();\r\n  components.tilte.newPos();\r\n}\r\n\r\nexport function renderMenu() {\r\n  components.menu.forEach(item => {\r\n    item.update();\r\n  });\r\n}\r\n\r\nexport function renderResultSaving() {\r\n  components.resultSaving[0].update();\r\n  components.resultSaving[1].updateText();\r\n  components.resultSaving[1].update();\r\n}\r\n\r\nexport function renderTopScores() {\r\n  components.topScores.forEach(item => {\r\n    item.update();\r\n  });\r\n}\r\n\r\nexport function renderHeroPlane() {\r\n  components.heroPlane.newPos();\r\n  components.heroPlane.update();\r\n}\r\n\r\nexport function renderBullets() {\r\n  components.bullets.forEach(bullet => {\r\n    bullet.update();\r\n    bullet.newPos();\r\n    bullet.checkCollision();\r\n  });\r\n}\r\n\r\nexport function renderEnemyPlanes() {\r\n  components.enemyPlanes.forEach(enemyPlane => {\r\n    enemyPlane.update();\r\n    enemyPlane.newPos();\r\n    enemyPlane.checkTheGoal();\r\n  });\r\n}\r\n\r\nexport function renderOutro() {\r\n  components.gameOver.update();\r\n  components.gameOver.newPos();\r\n  components.endGameInfo.update();\r\n  components.endGameInfo.newPos();\r\n}\r\n\r\nexport function renderScore() {\r\n  components.scoreText.update();\r\n  components.scoreText.setText('SCORE: ' + parameters.playerPoints);\r\n}\r\n\r\nexport function renderLives() {\r\n  components.livesText.update();\r\n  components.livesText.setText('LIVES: ' + parameters.playerHealth);\r\n}\r\n","import enemyPlaneSrc from 'public/assets/images/enemyPlane.png';\r\nimport { myGameArea, parameters, components } from '../index';\r\nimport { subtractThePlayerHealth } from '../helpers';\r\n\r\nexport default class EnemyPlane {\r\n  constructor(posX, posY) {\r\n    this.image = new Image();\r\n    this.image.src = enemyPlaneSrc;\r\n    this.width = 32;\r\n    this.height = 32;\r\n    this.speedX = parameters.directionFactor[Math.floor(Math.random() * 3)];\r\n    this.speedY = 1;\r\n    this.posX = posX;\r\n    this.posY = posY;\r\n  }\r\n  newPos() {\r\n    this.posY += this.speedY;\r\n    this.posX += this.speedX;\r\n    if (this.posY > 620) {\r\n      components.enemyPlanes.shift();\r\n    }\r\n    if (this.posX < 1 || this.posX > 587) {\r\n      this.speedX *= -1;\r\n    }\r\n  }\r\n  update() {\r\n    const ctx = myGameArea.context;\r\n    ctx.drawImage(this.image, this.posX, this.posY, this.width, this.height);\r\n  }\r\n\r\n  checkTheGoal() {\r\n    if (this.posY === 590) {\r\n      subtractThePlayerHealth();\r\n    }\r\n  }\r\n}\r\n","import { myGameArea, parameters, components } from '../index';\r\nimport { AABBIntersect, addPlayerPoint } from '../helpers';\r\n\r\nexport default class Bullet {\r\n  constructor(posX, posY) {\r\n    this.posX = posX;\r\n    this.posY = posY;\r\n    this.r = 2;\r\n    this.startAngle = 0;\r\n    this.endAngle = 2 * Math.PI;\r\n  }\r\n  update() {\r\n    const ctx = myGameArea.context;\r\n    ctx.beginPath();\r\n    ctx.arc(this.posX, this.posY, this.r, this.startAngle, this.endAngle);\r\n    ctx.fillStyle = \"yellow\";\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n  newPos() {\r\n    this.posY -= 1;\r\n    if (this.posY < 10) {\r\n      components.bullets.shift();\r\n    }\r\n  }\r\n\r\n  checkCollision() {\r\n    components.enemyPlanes.forEach((plane, i) => {\r\n      const isCollision = AABBIntersect(\r\n        this.posX,\r\n        this.posY,\r\n        this.r,\r\n        this.r,\r\n        plane.posX,\r\n        plane.posY,\r\n        plane.width,\r\n        plane.height\r\n      );\r\n      if (isCollision) {\r\n        components.enemyPlanes.splice(i, 1);\r\n        components.bullets = components.bullets.filter(\r\n          bullet => bullet.posY !== this.posY\r\n        );\r\n        addPlayerPoint(1);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import heroPlaneSrc from 'public/assets/images/heroPlane.png';\r\nimport Bullet from './bullet';\r\nimport { myGameArea, parameters, components } from '../index';\r\n\r\nexport default class HeroPlane {\r\n  constructor() {\r\n    this.image = new Image();\r\n    this.image.src = heroPlaneSrc;\r\n    this.width = 48;\r\n    this.height = 48;\r\n    this.speedX = 0;\r\n    this.posX = 285;\r\n    this.posY = 650;\r\n  }\r\n  update() {\r\n    const ctx = myGameArea.context;\r\n    ctx.drawImage(this.image, this.posX, this.posY, this.width, this.height);\r\n  }\r\n  newPos() {\r\n    if (this.posY > 550) {\r\n      this.posY--;\r\n    }\r\n    // limitation that the main aircraft does not fly out of the screen\r\n    this.posX = Math.max(Math.min(this.posX + this.speedX, 572), -2);\r\n  }\r\n\r\n  shootTheBullet() {\r\n    components.bullets.push(new Bullet(this.posX + 24, this.posY));\r\n    parameters.bulletsDistance = 0;\r\n  }\r\n}\r\n","import TextComponent from './textComponent';\r\nimport { components, parameters, myGameArea } from '../index';\r\nimport { resetParams, changePhase } from '../helpers';\r\nimport { PHASES } from '../constants';\r\nimport { config } from '../config';\r\n\r\nexport default class Tilte extends TextComponent {\r\n  constructor() {\r\n    super();\r\n    this.align = 'center';\r\n    this.posY = 300;\r\n    this.posX = config.canvasWidth / 2;\r\n    this.speedX = 2;\r\n    this.color = 'yellow';\r\n    this.text = 'ALIEN SHOOTER';\r\n    // this.shadowColor = 'black';\r\n    // this.strokeStyle = 'red';\r\n    // this.lineWidth = 0;\r\n    this.fontWeight = '600';\r\n    this.shadowColor = 'none';\r\n  }\r\n\r\n  // update() {\r\n  //   const ctx = myGameArea.context;\r\n  //   ctx.font = this.size + ' ' + this.font;\r\n\r\n  //   ctx.fillStyle = this.color;\r\n  //   ctx.strokeStyle = 'white';\r\n  //   ctx.shadowBlur = 5;\r\n  //   ctx.shadowColor = 'black';\r\n  //   ctx.textAlign = this.align;\r\n  //   ctx.fillText(this.text, this.posX, this.posY);\r\n  //   ctx.shadowBlur = 0;\r\n  //   ctx.shadowColor = 'none';\r\n  // }\r\n\r\n  newPos() {\r\n    if (parameters.gamePhase === PHASES.start) {\r\n      this.count();\r\n      if (this.counter > 50) {\r\n        this.moveRigth();\r\n      }\r\n\r\n      if (this.counter === 320) {\r\n        resetParams();\r\n        changePhase(PHASES.running);\r\n        this.resetCounter();\r\n        this.posX = config.canvasWidth / 2;\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  moveRigth() {\r\n    this.posX += this.speedX;\r\n  }\r\n}\r\n","import TextComponent from './textComponent';\r\nimport { config } from '../config';\r\n\r\nexport default class GameOver extends TextComponent {\r\n  constructor() {\r\n    super();\r\n    this.posX = config.canvasWidth / 2;\r\n    this.posY = -50;\r\n    this.align = 'center';\r\n    this.speedY = 2;\r\n    this.color = 'red';\r\n    this.text = 'GAME OVER';\r\n  }\r\n\r\n  newPos() {\r\n    if (this.posY < 300) {\r\n      this.posY += this.speedY;\r\n    }\r\n  }\r\n}\r\n","import TextComponent from './textComponent';\r\nimport { config } from '../config';\r\n\r\nexport default class EndGameInfo extends TextComponent {\r\n  constructor() {\r\n    super();\r\n    this.posX = config.canvasWidth / 2;\r\n    this.posY = 650;\r\n    this.align = 'center';\r\n    this.speedY = 2;\r\n    this.color = 'yellow';\r\n    this.text = 'PRESS SPACE TO CONTINUE';\r\n  }\r\n\r\n  newPos() {\r\n    if (this.posY > 350) {\r\n      this.posY -= this.speedY;\r\n    }\r\n  }\r\n}\r\n","import TextComponent from './textComponent';\r\nimport { components, parameters, myGameArea } from '../index';\r\nimport { resetParams, changePhase } from '../helpers';\r\nimport { PHASES } from '../constants';\r\nimport { config } from '../config';\r\n\r\nclass MenuItem extends TextComponent {\r\n  constructor(posX, posY, text, index) {\r\n    super(posX, posY, text);\r\n\r\n    this.align = 'center';\r\n    this.speedX = 2;\r\n    this.color = 'red';\r\n    this.animationCounter = 0;\r\n    this.counterDirection = 'add';\r\n    this.fontSize = 30;\r\n    this.index = index;\r\n    this.color = 'white';\r\n    this.strokeStyle = 'white';\r\n\r\n    // this.animationFactor = this.animationCounter /\r\n  }\r\n\r\n  update() {\r\n    if (this.animationCounter === 0) this.counterDirection = 'add';\r\n    if (this.animationCounter === 70) this.counterDirection = 'subtract';\r\n\r\n    if (this.counterDirection === 'add') this.animationCounter++;\r\n\r\n    if (this.counterDirection === 'subtract') this.animationCounter--;\r\n\r\n    const fontSize = this.fontSize + this.animationCounter / 50;\r\n\r\n    this.count();\r\n    const ctx = myGameArea.context;\r\n    ctx.shadowBlur = 5;\r\n    ctx.shadowColor = 'black';\r\n    if (parameters.activeMenuItemIndex === this.index) {\r\n      ctx.font = fontSize + 'px' + ' ' + this.font;\r\n      ctx.fillStyle = 'blue';\r\n      ctx.lineWidth = 0.6;\r\n      ctx.strokeStyle = this.strokeStyle;\r\n      ctx.fillText(this.text, this.posX, this.posY);\r\n      ctx.strokeText(this.text, this.posX, this.posY);\r\n    } else {\r\n      ctx.font = this.fontSize + 'px' + ' ' + this.font;\r\n      ctx.fillStyle = this.color;\r\n      ctx.fillText(this.text, this.posX, this.posY);\r\n    }\r\n  }\r\n\r\n  moveRigth() {\r\n    this.posX += this.speedX;\r\n  }\r\n}\r\n\r\nconst viewConfig = {\r\n  baseCenterPosX: config.canvasWidth / 2,\r\n  baseTopPosY: 400,\r\n  menuElementsNames: ['NEW GAME', 'TOP SCORES'],\r\n};\r\n\r\nexport function menu() {\r\n  const { baseCenterPosX, baseTopPosY, menuElementsNames } = viewConfig;\r\n\r\n  const view = menuElementsNames.map(\r\n    (elementName, index) =>\r\n      new MenuItem(baseCenterPosX, baseTopPosY + 50 * index, elementName, index)\r\n  );\r\n\r\n  return view;\r\n}\r\n","import bgImage from 'public/assets/images/gameBG.png';\r\nimport { myGameArea, parameters, components } from '../index';\r\nimport { PHASES } from '../constants';\r\n\r\nclass Background {\r\n  constructor(posY) {\r\n    this.image = new Image();\r\n    this.image.src = bgImage;\r\n    this.width = 618;\r\n    this.height = 824;\r\n    this.speedY = 0.5;\r\n    this.posX = 0;\r\n    this.posY = posY;\r\n  }\r\n  newPos() {\r\n    if (parameters.gamePhase === PHASES.running) {\r\n      this.posY += this.speedY;\r\n      if (this.posY === 822) {\r\n        this.posY = -822;\r\n      }\r\n    }\r\n  }\r\n  update() {\r\n    const ctx = myGameArea.context;\r\n    ctx.drawImage(this.image, this.posX, this.posY, this.width, this.height);\r\n  }\r\n}\r\n\r\nconst backgroundConfig = {\r\n  basePosY: 0,\r\n};\r\n\r\nexport function background() {\r\n  const { basePosY } = backgroundConfig;\r\n\r\n  return [new Background(basePosY), new Background(basePosY - 822)];\r\n}\r\n","import TextComponent from './textComponent';\nimport { config } from '../config';\nimport { parameters } from '../index';\n\nexport default class TextInput extends TextComponent {\n  constructor(posX, posY, color) {\n    super(posX, posY, color);\n    this.color = color || 'black';\n    this.posX = config.canvasWidth / 2;\n    this.align = 'center';\n    this.text = '|';\n  }\n  updateText() {\n    this.text = parameters.inputText + '|';\n  }\n}\n","import TextInput from './textInput';\nimport TextComponent from './textComponent';\nimport { config } from '../config';\n\nconst viewConfig = {\n  baseCenterPosX: config.canvasWidth / 2,\n  baseTopPosY: 300,\n  textInfo: 'PLEASE ENTER YOUR NAME',\n};\n\nexport function resultSaving() {\n  const { baseCenterPosX, baseTopPosY, textInfo } = viewConfig;\n  return [\n    new TextComponent(baseCenterPosX, baseTopPosY, textInfo, 'center', 'yellow'),\n    new TextInput(baseCenterPosX, baseTopPosY + 50, 'yellow'),\n  ];\n}\n","import { components, parameters } from './index';\r\nimport EnemyPlane from './components/enemyPlane';\r\nimport HeroPlane from './components/heroPlane';\r\nimport TextComponent from './components/textComponent';\r\nimport Tilte from './components/tilte';\r\nimport GameOver from './components/gameOver';\r\nimport EndGameInfo from './components/endGameInfo';\r\nimport { topScores } from './components/topScores';\r\nimport { menu } from './components/menu';\r\nimport { background } from './components/background';\r\nimport { resultSaving } from './components/resultSaving';\r\n// import TextInput from './components/textInput';\r\n// import { gameOverView } from './views/gameOver';\r\n\r\nexport function initializeObjects() {\r\n  components.heroPlane = new HeroPlane();\r\n  components.tilte = new Tilte();\r\n  components.gameOver = new GameOver();\r\n  components.endGameInfo = new EndGameInfo();\r\n  components.scoreText = new TextComponent(15, 30);\r\n  components.livesText = new TextComponent(470, 30);\r\n  components.background = [...background()];\r\n  components.menu = [...menu()];\r\n  components.topScores = [...topScores()];\r\n  components.resultSaving = [...resultSaving()];\r\n}\r\n\r\nexport function generateHeroBullet() {\r\n  if (\r\n    parameters.spacePressed &&\r\n    parameters.bulletsDistance > 50 &&\r\n    components.bullets.length <= 15\r\n  ) {\r\n    components.heroPlane.shootTheBullet();\r\n  }\r\n}\r\n\r\nexport function generateEnemyPlane() {\r\n  if (\r\n    parameters.enemyGenerationCounter >\r\n    Math.floor(Math.random() * 4000) + 50\r\n  ) {\r\n    components.enemyPlanes.push(\r\n      new EnemyPlane(Math.floor(Math.random() * 588), -40)\r\n    );\r\n    parameters.enemyGenerationCounter = 0;\r\n  }\r\n}\r\n","import { keyDownHandler, keyUpHandler, changePhase } from './helpers';\r\nimport {\r\n  renderBackground,\r\n  renderTitle,\r\n  renderHeroPlane,\r\n  renderBullets,\r\n  renderEnemyPlanes,\r\n  renderOutro,\r\n  renderScore,\r\n  renderLives,\r\n  renderMenu,\r\n  renderTopScores,\r\n  renderResultSaving,\r\n} from './renders';\r\n\r\nimport {\r\n  generateHeroBullet,\r\n  generateEnemyPlane,\r\n  initializeObjects,\r\n} from './objectGenerators';\r\n\r\nimport { PHASES } from './constants';\r\n\r\nimport { config } from './config';\r\n\r\nimport '../styles/index.scss';\r\n\r\nimport { getTopScores } from './firebase';\r\n\r\n// const startButton = document.querySelector('#startButton');\r\n\r\nexport const parameters = {\r\n  phaseCounter: 0,\r\n  gamePhase: PHASES.menu,\r\n  leftPressed: false,\r\n  rightPressed: false,\r\n  spacePressed: false,\r\n  directionFactor: [-1, 0, 1],\r\n  enemyGenerationCounter: 0,\r\n  bulletsDistance: 0,\r\n  playerPoints: 0,\r\n  playerHealth: 6,\r\n  activeMenuItemIndex: 0,\r\n  topScores: [],\r\n  inputText: '',\r\n};\r\n\r\nexport const components = {\r\n  heroPlane: null,\r\n  enemyPlanes: [],\r\n  bullets: [],\r\n  background: [],\r\n  menu: [],\r\n  topScores: [],\r\n};\r\n\r\nexport const myGameArea = {\r\n  canvas: document.createElement('canvas'),\r\n  start: function() {\r\n    this.canvas.width = config.canvasWidth;\r\n    this.canvas.height = config.canvasHeight;\r\n    this.context = this.canvas.getContext('2d');\r\n    document\r\n      .querySelector('#myCanvas')\r\n      .appendChild(this.canvas, document.body.childNodes[0]);\r\n    this.interval = setInterval(updateGameArea, 10);\r\n  },\r\n  clear: function() {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  },\r\n};\r\n\r\nfunction startGame() {\r\n  initializeObjects();\r\n  myGameArea.start();\r\n}\r\n\r\nfunction updateGameArea() {\r\n  parameters.phaseCounter++;\r\n\r\n  myGameArea.clear();\r\n\r\n  renderBackground();\r\n\r\n  switch (parameters.gamePhase) {\r\n    case PHASES.menu: {\r\n      renderTitle();\r\n      renderMenu();\r\n      break;\r\n    }\r\n\r\n    case PHASES.topScores: {\r\n      renderTopScores();\r\n\r\n      break;\r\n    }\r\n\r\n    case PHASES.start: {\r\n      renderTitle();\r\n      break;\r\n    }\r\n\r\n    case PHASES.running: {\r\n      if (parameters.playerHealth > 0) {\r\n        // update parameters\r\n        parameters.enemyGenerationCounter += 1;\r\n        parameters.bulletsDistance += 3;\r\n\r\n        // generating objects\r\n        generateEnemyPlane();\r\n        generateHeroBullet();\r\n\r\n        // rendering objects\r\n        renderHeroPlane();\r\n        renderBullets();\r\n        renderEnemyPlanes();\r\n      } else {\r\n        const { topScores, playerPoints } = parameters;\r\n        const lastResult = topScores[topScores.length - 1].score;\r\n        if (playerPoints > lastResult) {\r\n          changePhase(PHASES.resultSaving);\r\n        } else {\r\n          changePhase(PHASES.end);\r\n        }\r\n      }\r\n      break;\r\n    }\r\n\r\n    case PHASES.resultSaving: {\r\n      renderResultSaving();\r\n      break;\r\n    }\r\n\r\n    case PHASES.end: {\r\n      renderOutro();\r\n      break;\r\n    }\r\n  }\r\n\r\n  renderScore();\r\n  renderLives();\r\n}\r\n\r\ndocument.addEventListener('keydown', keyDownHandler);\r\n\r\ndocument.addEventListener('keyup', keyUpHandler);\r\n\r\nwindow.onload = () => {\r\n  getTopScores().then(() => startGame());\r\n};\r\n","module.exports = __webpack_public_path__ + \"public/assets/images/enemyPlane.png\";","module.exports = __webpack_public_path__ + \"public/assets/images/heroPlane.png\";","module.exports = __webpack_public_path__ + \"public/assets/images/gameBG.png\";"],"sourceRoot":""}